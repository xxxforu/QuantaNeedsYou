"use strict";const e=require("../common/vendor.js"),d="https://zx.quantacenter.com/recruitment_reception/";function c(t={}){t.url=`${d}${t.url}`;let a=e.index.getStorageSync("token");return t.header={"content-type":"application/json",Authorization:`${a||!1}`},e.index.showLoading({title:"加载中"}),new Promise((o,i)=>{t.success=n=>{e.index.hideLoading(),n.data.code!==200?(e.index.showToast({icon:"none",duration:3e3,title:`${n.data.msg}`}),n.data.code==401&&(e.index.showToast({icon:"none",duration:3e3,title:`${n.data.msg}即将跳转登录页`}),setTimeout(()=>{e.index.navigateTo({url:"/pages/login/login"})},3e3)),i(n)):o(n.data.data)},t.fail=n=>{e.index.hideLoading(),e.index.showToast({icon:"none",duration:3e3,title:"服务器错误,请稍后再试"}),i(n)},e.index.request(t)})}exports.service=c;
