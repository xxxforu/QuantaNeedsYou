"use strict";const e=require("../../common/vendor.js"),N=require("../../utils/request.js");if(!Array){const p=e.resolveComponent("uni-icons"),l=e.resolveComponent("uni-popup");(p+l)()}const I=()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js",x=()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js";Math||(I+x)();const C={__name:"info",setup(p){const l=e.getCurrentInstance();if(!l)throw new Error("getCurrentInstance must be called within setup or lifecycle hook.");const f=l.appContext.config.globalProperties.$getStaticFilePath;var t=e.ref(["信息科学与技术学院","东方语言文化学院","中国语言文化学院","亚非语言文化学院","会计学院","商学院","国际关系学院","国际商务英语学院","数学与统计学院","新闻与传播学院","日语语言文化学院","法学院","社会与公共管理学院","经济贸易学院","艺术学院","英语教育学院","英语语言文化学院","西方语言文化学院","金融学院","高级翻译学院","人工智能与电子竞技学院"]),s=e.ref(0),n=e.ref({name:"",studentNum:"",faculty:t.value[s.value],openId:e.index.getStorageSync("openId")}),v=function(a){n.value.faculty=t.value[a.detail.value],console.log(t.value[a.detail.value]),s.value=a.detail.value},c=e.ref("center"),_=e.ref("验证失败！请重试");const i=e.ref(null);e.onMounted(()=>{console.log(i.value)});var m=()=>{N.request({url:"student/info",data:n.value,method:"POST"}).then(a=>{console.log(a),a.code!=200?i.value.open(c):(e.index.setStorage({data:n.value.name,key:"name"}),e.index.navigateTo({url:"/pages/index/index"}))})},o=e.ref(!1),r=e.ref(!1);e.ref(!1);var d=function(a){n.value.name.length>0?o.value=!0:o.value=!1},h=function(){n.value.name="",o.value=!1},g=function(a){n.value.studentNum.length>0?r.value=!0:r.value=!1},y=function(){n.value.studentNum="",r.value=!1};return(a,k)=>e.e({a:e.unref(f)("name.png"),b:e.o([u=>e.unref(n).name=u.detail.value,(...u)=>e.unref(d)&&e.unref(d)(...u)]),c:e.unref(n).name,d:e.unref(o)},e.unref(o)?{e:e.o(e.unref(h)),f:e.p({type:"close",size:"20"})}:{},{g:e.unref(f)("stuNum.png"),h:e.o([u=>e.unref(n).studentNum=u.detail.value,(...u)=>e.unref(g)&&e.unref(g)(...u)]),i:e.unref(n).studentNum,j:e.unref(r)},e.unref(r)?{k:e.o(e.unref(y)),l:e.p({type:"close",size:"20"})}:{},{m:e.unref(f)("college.png"),n:e.t(e.unref(t)[e.unref(s)]),o:e.unref(s),p:e.unref(t),q:e.o((...u)=>e.unref(v)&&e.unref(v)(...u)),r:e.o((...u)=>e.unref(m)&&e.unref(m)(...u)),s:e.t(e.unref(_)),t:e.unref(c)==="left"||e.unref(c)==="right"?1:"",v:e.sr(i,"5f117500-2",{k:"popup"}),w:e.p({"background-color":"#fff"})})}};wx.createPage(C);
